<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home · Ewalder.jl</title><script data-outdated-warner src="assets/warner.js"></script><link rel="canonical" href="https://SunnySuite.github.io/Ewalder.jl/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href>Ewalder.jl</a></span></div><form class="docs-search" action="search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Home</a><ul class="internal"><li><a class="tocitem" href="#Usage-example"><span>Usage example</span></a></li><li><a class="tocitem" href="#What-is-Ewald-summation?"><span>What is Ewald summation?</span></a></li><li><a class="tocitem" href="#Mathematical-details"><span>Mathematical details</span></a></li><li><a class="tocitem" href="#API"><span>API</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Home</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Home</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/SunnySuite/Ewalder.jl/blob/main/docs/src/index.md#" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Ewalder"><a class="docs-heading-anchor" href="#Ewalder">Ewalder</a><a id="Ewalder-1"></a><a class="docs-heading-anchor-permalink" href="#Ewalder" title="Permalink"></a></h1><p>Documentation for <a href="https://github.com/SunnySuite/Ewalder.jl">Ewalder</a>.</p><h2 id="Usage-example"><a class="docs-heading-anchor" href="#Usage-example">Usage example</a><a id="Usage-example-1"></a><a class="docs-heading-anchor-permalink" href="#Usage-example" title="Permalink"></a></h2><p>Calculate the <a href="https://en.wikipedia.org/wiki/Madelung_constant">Madelung constant</a> for NaCl using its primitive cell.</p><pre><code class="language-julia hljs">import Ewalder

latvecs = [[1,1,0], [1,0,1], [0,1,1]]
pos = [[0,0,0], [1,1,1]]
charges = [1, -1]
sys = Ewalder.System(; latvecs, pos)
E = Ewalder.energy(sys; charges)
@assert E ≈ -1.74756459</code></pre><p>See the <a href="https://github.com/SunnySuite/Ewalder.jl/tree/main/test"><code>Ewalder/test</code></a> directory for more usage examples.</p><h2 id="What-is-Ewald-summation?"><a class="docs-heading-anchor" href="#What-is-Ewald-summation?">What is Ewald summation?</a><a id="What-is-Ewald-summation?-1"></a><a class="docs-heading-anchor-permalink" href="#What-is-Ewald-summation?" title="Permalink"></a></h2><p>The Coulomb energy between two point charges is <span>$q_1 q_2 / 4\pi\epsilon_0 r$</span>, where <span>$r$</span> is the separation distance, and <span>$\epsilon_0$</span> is a physical constant (the vacuum permittivity). For a system with multiple charges, the total Coulomb energy is a sum of all such pair interactions. A frequent goal is to estimate bulk material properties using computers simulations at much smaller scales. Here, it is very effective to impose periodic boundary conditions on the finite size simulation volume. Doing so effectively creates infinitely many copies (image charges) of the charges present in the original, finite size system. Ewald summation accounts for the interactions of all these charges through long-range (<span>$1/r$</span>) pair interactions. In the <em>Ewalder</em> example above, the output <code>E</code> represents the dimensionless energy per ion of the NaCl crystal, i.e., table salt.</p><p>There are some mathematical subtleties to Ewald summation. First, the system must be net charge neutral, or the macroscopic Coulomb energy will diverge. Second, if the original system has a nonzero net dipole moment (i.e., a polarization), then the infinite sum over periodic images becomes only conditionally convergent, and the result depends on the order of summation. This conditional convergence reflects a true ambiguity–-the physical conditions at the surface of the material sample cannot be neglected. The simplest possibility, employed here, is to impose so-called &quot;tin foil boundary conditions,&quot; which eliminate bound charge from the sample surface.</p><p>Ewald summation works by decomposing the Coulomb energy into two parts: (1) A real-space part, evaluated as a sum over point charges at short range, and (2) a Fourier space part, which captures the long-range interactions through a sum over <span>$\mathbf k$</span>-vectors, which label frequencies in the decomposition of total charge density. The <code>Ewalder</code> implementation uses a straightforward algorithm that scales as <span>$N^{3/2}$</span> for increasing system sizes <span>$N$</span> (assuming efficient calculation of the neighbor list). For very large scale simulations, it would be preferable to use instead a method that scales near-linearly with <span>$N$</span>, such as PPPM or PME.</p><h2 id="Mathematical-details"><a class="docs-heading-anchor" href="#Mathematical-details">Mathematical details</a><a id="Mathematical-details-1"></a><a class="docs-heading-anchor-permalink" href="#Mathematical-details" title="Permalink"></a></h2><p>For a full review of Ewald summation, please see our <a href="https://raw.githubusercontent.com/SunnySuite/Ewalder.jl/docs/math/ewald_review.pdf">mathematical writeup </a> (PDF format).</p><h2 id="API"><a class="docs-heading-anchor" href="#API">API</a><a id="API-1"></a><a class="docs-heading-anchor-permalink" href="#API" title="Permalink"></a></h2><ul><li><a href="#Ewalder.System"><code>Ewalder.System</code></a></li><li><a href="#Ewalder.energy-Tuple{System}"><code>Ewalder.energy</code></a></li></ul><article class="docstring"><header><a class="docstring-binding" id="Ewalder.System" href="#Ewalder.System"><code>Ewalder.System</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">System(; latvecs::Vector{NTuple{3, Float}},
         pos::Vector{Vec3}
         c0::Float64 = 6.0
         c1::Float64 = 2.0)</code></pre><p>Create a system that is periodic in each of the three supercell lattice vectors <code>latvecs</code> and with atom positions <code>pos</code>. The optional parameter <code>c0</code> controls accuracy of Ewald summation. The default is <code>c0 = 6</code>, which yields errors of order <code>1e-12</code> (smaller <code>c0</code> will run faster). The optional parameter <code>c1</code> controls the balance between real and Fourier space summation (larger <code>c1</code> implies more real-space summation).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SunnySuite/Ewalder.jl/blob/38dfacf14fbb8fd767fa4aee77c2991c24f2a257/src/Ewalder.jl#L17-L29">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Ewalder.energy-Tuple{System}" href="#Ewalder.energy-Tuple{System}"><code>Ewalder.energy</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">energy(sys::System; charges=Float64[], dipoles=Vec3[])</code></pre><p>Calculate the Ewald energy in units of <span>$1/4\pi\epsilon_0$</span> for a periodic system of <code>charges</code> and <code>dipoles</code>. If either charge or dipole parameters are omitted, they will be assumed zero.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SunnySuite/Ewalder.jl/blob/38dfacf14fbb8fd767fa4aee77c2991c24f2a257/src/Ewalder.jl#L125-L131">source</a></section></article></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.23 on <span class="colophon-date" title="Sunday 25 December 2022 15:16">Sunday 25 December 2022</span>. Using Julia version 1.8.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
